{"version":3,"sources":["../src/trackingAsyncIterable.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst TRACKING_ASYNC_ITERABLE_SYMBOL = Symbol(\"TRACKING_ASYNC_ITERABLE_SYMBOL\");\r\n\r\nexport type TrackingAsyncIterable<T, TContext = unknown> = AsyncIterable<T> & {\r\n  id: number;\r\n  context?: TContext;\r\n  [TRACKING_ASYNC_ITERABLE_SYMBOL]: true;\r\n};\r\n\r\nexport function trackAsyncIterable<T, TContext = unknown>(\r\n  id: number,\r\n  asyncIterator: AsyncIterable<T>,\r\n  context?: TContext\r\n): TrackingAsyncIterable<T> {\r\n  return Object.assign(asyncIterator, {\r\n    id,\r\n    context,\r\n    [TRACKING_ASYNC_ITERABLE_SYMBOL]: true as const,\r\n  });\r\n}\r\n\r\nexport function isTrackingAsyncIterable(\r\n  value: any\r\n): value is TrackingAsyncIterable<unknown> {\r\n  return (\r\n    value != null &&\r\n    typeof value.id === \"number\" &&\r\n    typeof value[Symbol.asyncIterator] === \"function\" &&\r\n    value[TRACKING_ASYNC_ITERABLE_SYMBOL] === true\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,IAAM,iCAAiC,OAAO,gCAAgC;AAQvE,SAAS,mBACd,IACA,eACA,SAC0B;AAC1B,SAAO,OAAO,OAAO,eAAe;AAAA,IAClC;AAAA,IACA;AAAA,IACA,CAAC,8BAA8B,GAAG;AAAA,EACpC,CAAC;AACH;AAEO,SAAS,wBACd,OACyC;AACzC,SACE,SAAS,QACT,OAAO,MAAM,OAAO,YACpB,OAAO,MAAM,OAAO,aAAa,MAAM,cACvC,MAAM,8BAA8B,MAAM;AAE9C;","names":[]}